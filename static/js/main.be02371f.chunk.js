(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{10:function(e,a,t){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__2bUZE",ImageGalleryItemImage:"imageGalleryItem_ImageGalleryItemImage__3VpWX"}},11:function(e,a,t){e.exports={Overlay:"Modal_Overlay__21j6m",Modal:"Modal_Modal__32mLz"}},22:function(e,a,t){e.exports={App:"App_App__2mBMi"}},24:function(e,a,t){e.exports={ImageGallery:"imageGallery_ImageGallery__VYWjf"}},26:function(e,a,t){e.exports={loader:"Loader_loader__2hZcM"}},27:function(e,a,t){e.exports={button:"Button_button__2Lf63"}},32:function(e,a,t){},4:function(e,a,t){e.exports={searchbar:"Searchbar_searchbar__1psVe",searchForm:"Searchbar_searchForm__1MxyE",searchFormButton:"Searchbar_searchFormButton__1Dn5B",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__3XfMN",searchFormInput:"Searchbar_searchFormInput__3Pra9"}},72:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(21),c=t.n(o),s=(t(32),t(12)),i=t(5),l=t(6),m=t(8),u=t(7),d=t(22),h=t.n(d),g=t(23),p=t.n(g),b=function(e){var a=e.query,t=void 0===a?"":a,n=e.page,r=void 0===n?1:n;return p.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(r,"&key=").concat("20731826-485a6ef4f9f6fa0c1feddacae","&image_type=photo&orientation=horizontal&per_page=12"))},j=t(4),f=t.n(j),y=t(0),O=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={text:""},e.nahdleChange=function(a){var t=a.target.value;e.setState({text:t})},e.handleSubmit=function(a){a.preventDefault(),e.props.onSubmit(e.state.text),e.setState({text:""})},e}return Object(l.a)(t,[{key:"render",value:function(){return Object(y.jsx)("header",{className:f.a.searchbar,children:Object(y.jsxs)("form",{className:f.a.searchForm,onSubmit:this.handleSubmit,children:[Object(y.jsx)("button",{type:"submit",className:f.a.searchFormButton,children:Object(y.jsx)("span",{className:f.a.searchFormButtonLabel,children:"Search"})}),Object(y.jsx)("input",{className:f.a.searchFormInput,type:"text",value:this.state.text,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.nahdleChange})]})})}}]),t}(n.Component),_=t(10),x=t.n(_),v=function(e){var a=e.image,t=e.openModal,n=e.largeImage,r=a.webformatURL;return Object(y.jsx)("li",{className:x.a.ImageGalleryItem,id:a.id,onClick:function(){return t(n)},children:Object(y.jsx)("img",{src:r,alt:"",className:x.a.ImageGalleryItemImage})})},I=t(24),M=t.n(I),S=function(e){var a=e.images,t=e.openModal;return Object(y.jsx)("ul",{className:M.a.ImageGallery,children:a.map((function(e,a){return Object(y.jsx)(v,{image:e,largeImage:e.largeImageURL,openModal:t},e.id+a)}))})},F=t(25),w=t.n(F),L=t(26),k=t.n(L),N=function(){return Object(y.jsx)("div",{className:k.a.loader,children:Object(y.jsx)(w.a,{type:"Grid",color:"#00BFFF",height:100,width:100,timeout:3e3})})},G=t(27),B=t.n(G),C=function(e){var a=e.addPage;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("button",{onClick:a,type:"button",className:B.a.button,children:"Load more"})})},q=t(11),A=t.n(q),E=function(e){var a=e.largeImage,t=e.closeModal;return Object(y.jsx)("div",{className:A.a.Overlay,onClick:t,children:Object(y.jsx)("div",{className:A.a.Modal,children:Object(y.jsx)("img",{src:a,alt:""})})})},P=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={images:[],query:"",page:1,isOpenModal:!1,isLoading:!1,error:""},e.openModal=function(a){e.setState({isOpenModal:!0,largeImage:a}),window.addEventListener("keydown",e.closeModal)},e.closeModal=function(a){a.target!==a.currentTarget&&27!==a.keyCode||(e.setState({isOpenModal:!1}),window.removeEventListener("keydown",e.closeModal))},e.onSubmit=function(a){e.setState({query:a,isLoading:!0}),b({query:a}).then((function(a){e.setState({images:a.data.hits})})).finally((function(){return e.setState({isLoading:!1})}))},e.addPage=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this,n=this.state,r=n.page,o=n.query,c=n.images;a.page!==r&&b({query:o,page:r}).then((function(e){t.setState((function(a){return{images:[].concat(Object(s.a)(a.images),Object(s.a)(e.data.hits))}}))})),a.images!==c&&0!==a.images.length&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.largeImage,n=e.isOpenModal,r=e.isLoading;return Object(y.jsxs)("div",{className:h.a.App,children:[Object(y.jsx)(O,{onSubmit:this.onSubmit}),Object(y.jsx)(S,{images:a,openModal:this.openModal}),r&&Object(y.jsx)(N,{}),a.length>0&&Object(y.jsx)(C,{addPage:this.addPage}),n&&Object(y.jsx)(E,{largeImage:t,closeModal:this.closeModal})]})}}]),t}(n.Component);c.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(P,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.be02371f.chunk.js.map